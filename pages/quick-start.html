---
# jekyll header
---
{% include header.html %}

<!-- ============BreadCrumb=============== -->

{% include container-start.html %}

<!-- ============CONTENT CONTENT=============== -->

<a name="quick-start"> </a>
<h2><span class="sectioncount">8.1.0</span> CDC Opioid Prescribing Guideline - Quick Start <a href="quick-start.html#quick-start" title="link to here" class="self-link"><img src="target.png" width="20" class="self-link" height="20"/></a></h2>

<p>This section provides a quick start guide to getting up and running quickly with the Clinical Quality Framework reference 
  implementation functioning as a CDS Hooks service. This quick start focuses on recommendations #10 and #11, both slightly
  modified to work on a "patient-view" hook.</p>
  
<a name="approach"> </a>
<h3><span class="sectioncount">8.2.1</span> Overall Approach <a href="quick-start.html#integration" title="link to here" class="self-link"><img src="target.png" width="20" class="self-link" height="20"/></a></h3>

<p>This quick start will focus on standing up an instance of a CDS Hooks service that can run the
  guidance artifacts published in this implementation guide. In other words, the "Clinical Reasoning Implementation"
  depicted in the diagram below:</p>

<img src="assets/images/ClinicalReasoningApproach.png"/>

<a name="service"> </a>
<h3><span class="sectioncount">8.2.2</span> CDS Hooks Service <a href="quick-start.html#service" title="link to here" class="self-link"><img src="target.png" width="20" class="self-link" height="20"/></a></h3>

<p>The first step is to stand up an instance of the CQF Ruler, a reference implementation of the FHIR
  Clinical Reasoning module and CDS Hooks. Follow the instructions on the 
  <a href="https://github.com/DBCG/cqf-ruler/wiki/Deployment">Deployment</a> page 
  of the CQF Ruler wiki to start a local CQF Ruler service.</p>
  
<p>This service is a HAPI FHIR Server with some additional plug-ins to support the Clinical Reasoning module. To verify
  the service is running, issue a couple basic queries:</p>
  
<div class="example">
  <pre class="http">
GET http://localhost:8080/cqf-ruler/baseDstu3/Library

GET http://localhost:8080/cqf-ruler/baseDstu3/PlanDefinition
  </pre>
</div>

<p>For a newly instantiated CQF Ruler, both of these queries should return 0 results, indicating there is no content
  currently loaded.</p>
  
<p>In addition to the FHIR Server functionality, the CQF Ruler implements a CDS Hooks service. To view the discovery endpoint,
  issue the following query:</p>
  
<div class="example">
  <pre class="http">
GET http://localhost:8080/cqf-ruler/cds-services
  </pre>
</div>

<p>For a newly instantiated CQF Ruler, this will also return an empty list, indicating there are no services
  configured.</p>

<div class="example">
  <pre class="json">
{
    "services": []
}
  </pre>
</div>
  
<a name="content-load"> </a>
<h3><span class="sectioncount">8.2.3</span> Loading Content <a href="quick-start.html#content-load" title="link to here" class="self-link"><img src="target.png" width="20" class="self-link" height="20"/></a></h3>

<p>The next step is to load the _content_, i.e., the artifacts published in this implementation guide that
  describe the service behavior for the recommendations. For recommendations #10 and #11, patient-view, these
  artifacts are:</p>
  
<table class="list">
  <thead>
    <tr><th>Resource</th><th>Type</th><th>Description</th></tr>
  </thead>
  <tbody>
    <tr><td>OMTKData (v0.0.2)</td><td>Library</td><td>Opioid Management Terminology Knowledge (OMTK) Data Library</td></tr>
    <tr><td>OMTKLogic (v0.0.1)</td><td>Library</td><td>Opioid Management Terminology Knowledge (OMTK) Logic Library</td></tr>
    <tr><td>OpioidCDS_STU3_Common (v0.1.0)</td><td>Library</td><td>Opioid Common Library</td></tr>
    <tr><td>OpioidCDS_STU3_REC_10_Patient_View (v0.1.0)</td><td>Library</td><td>Opioid Recommendation #10 (Patient View Version) Library</td></tr>
    <tr><td>OpioidCDS_STU3_REC_11_Patient_View (v0.1.0)</td><td>Library</td><td>Opioid Recommendation #11 (Patient View Version) Library</td></tr>
    <tr><td>PlanDefinition_Recommendation_10_Patient_View (v0.1.0)</td><td>PlanDefinition</td><td>Opioid Recommendation #10 (Patient View Version) PlanDefinition</td></tr>
    <tr><td>PlanDefinition_Recommendation_11_Patient_view (v0.1.0)</td><td>PlanDefinition</td><td>Opioid Recommendation #11 (Patient View Version) PlanDefinition</td></tr>
  </tbody>
</table>

<p>Because this content is published as FHIR resources, these can be loaded by POSTing or PUTing them to the 
  FHIR server, just like any other FHIR resource:</p>
  
<div class="example">
  <pre class="http">
PUT http://localhost:8080/cqf-ruler/baseDstu3/Library/library-omtkdata-0-0-2
  </pre>
</div>

<p>With the body of the PUT as the XML (or JSON) for the resource.</p>

<p>For convenience, these resources have all been added to a single transaction bundle, quick-start-content,
  that can be POSTed to the base URL of the server:</p>
  
<div class="example">
  <pre class="http">
POST http://localhost:8080/cqf-ruler/baseDstu3
  </pre>
</div>

<p>Following normal FHIR server transaction processing, this will post all the content resources as
  a single transaction.</p>
  
<p>Once the content has been loaded, the CDS Hooks discovery endpoint will list the recommendations as
  available services to be called:</p>
  
<div class="example">
  <pre class="http">
GET http://localhost:8080/cqf-ruler/cds-services
  </pre>
</div>

<div class="example">
  <pre class="json">
{
    "services": [ {"todo": "todo"} ]
}
  </pre>
</div>

<a name="request-and-response"> </a>
<h3><span class="sectioncount">8.2.4</span> Request and Response <a href="quick-start.html#request-and-response" title="link to here" class="self-link"><img src="target.png" width="20" class="self-link" height="20"/></a></h3>

<!-- ==============END CONTENT END CONTENT=================== -->

{% include container-end.html %}

{% include footer.html %}
